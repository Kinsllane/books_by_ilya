/* Tailwind config */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Глобальные переменные с расширенной палитрой */
:root {
  /* Основные цвета */
  --color-primary: 0 240 255; /* #00f0ff - Cyan */
  --color-secondary: 255 0 229; /* #ff00e5 - Pink */
  --color-accent: 123 47 247; /* #7b2ff7 - Purple */
  --color-dark: 15 15 26; /* #0f0f1a */
  --color-darker: 8 8 17; /* #080811 */
  
  /* Дополнительные акцентные цвета */
  --color-success: 72 255 184; /* #48ffb8 */
  --color-warning: 255 200 0; /* #ffc800 */
  --color-danger: 255 71 87; /* #ff4757 */

  /* Градиенты */
  --gradient-primary: linear-gradient(
    135deg,
    rgb(var(--color-primary)) 0%,
    rgb(var(--color-accent)) 100%
  );

  /* Тени с параллакс-эффектом */
  --shadow-neon: 
    0 0 10px rgba(var(--color-primary), 0.7),
    0 0 20px rgba(var(--color-primary), 0.5),
    0 0 30px rgba(var(--color-primary), 0.3);
  
  --shadow-elevation: 
    0 4px 6px -1px rgba(0, 0, 0, 0.25),
    0 2px 4px -2px rgba(0, 0, 0, 0.3);
}

/* Базовые стили с улучшенной типографикой */
body {
  @apply bg-darker text-gray-100;
  font-family: 'Exo 2', system-ui, sans-serif;
  background: 
    radial-gradient(
      circle at 20% 30%,
      rgba(var(--color-darker), 1) 0%,
      rgba(0, 0, 0, 1) 150%
    );
  line-height: 1.6;
  letter-spacing: 0.025em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}

/* Стили для выделения текста */
::selection {
  @apply bg-primary/20 text-primary;
}

/* Компоненты */
@layer components {
  /* Кнопки с улучшенными состояниями */
  .btn {
    @apply relative px-6 py-2.5 rounded-full font-bold transition-all 
           duration-300 ease-out overflow-hidden isolate
           before:absolute before:inset-0 before:-z-10
           before:bg-gradient-to-r before:from-primary before:to-secondary
           before:opacity-0 before:transition-opacity before:duration-300
           hover:before:opacity-100;
    
    &-primary {
      @apply bg-gradient-to-r from-primary to-secondary text-gray-900
             hover:shadow-[0_0_25px_var(--color-primary)]
             hover:before:opacity-0;
    }

    &-outline {
      @apply border-2 border-primary/30 text-primary
             hover:border-primary/80 hover:bg-primary/10;
    }
  }

  /* Карточки с параллакс-эффектом */
  .card {
    @apply relative bg-gray-800/50 backdrop-blur-lg rounded-xl border border-gray-700/50
           transition-all duration-500 hover:border-primary/50
           hover:shadow-[0_10px_30px_-15px_rgba(0,240,255,0.3)]
           overflow-hidden;
    
    &::before {
      @apply content-[''] absolute inset-0 -z-10 opacity-0 transition-opacity duration-500;
      background: radial-gradient(
        400px circle at var(--mouse-x) var(--mouse-y),
        rgba(var(--color-primary), 0.1),
        transparent 40%
      );
    }
    
    &:hover::before {
      @apply opacity-100;
    }
  }

  /* Формы с фокус-эффектами */
  .input-field {
    @apply w-full bg-gray-800/70 border border-gray-700 rounded-lg px-4 py-3
           text-gray-100 placeholder-gray-500 transition-all duration-200
           focus:outline-none focus:ring-2 focus:ring-primary/70 focus:border-transparent
           focus:bg-gray-800/90 focus:shadow-[0_0_0_3px_rgba(0,240,255,0.2)];
  }

  /* Навигация с индикатором */
  .nav-link {
    @apply relative px-4 py-2.5 rounded-lg transition-all duration-300
           hover:bg-gray-700/30 hover:text-primary
           after:absolute after:bottom-0 after:left-1/2 after:h-0.5 after:w-0
           after:bg-primary after:transition-all after:duration-300
           hover:after:w-4/5 hover:after:left-[10%];
    
    &.active {
      @apply text-primary font-semibold;
      &::after {
        @apply w-4/5 left-[10%];
      }
    }
  }
}

/* Утилиты с расширенными возможностями */
@layer utilities {
  /* Градиентный текст с анимацией */
  .text-gradient {
    @apply text-transparent bg-clip-text;
    background-image: var(--gradient-primary);
    background-size: 200% auto;
    animation: gradient-shift 8s ease infinite;
  }

  /* Неоновые эффекты с переменной интенсивностью */
  .neon-effect {
    box-shadow: 
      0 0 5px rgba(var(--color-primary), 0.8),
      0 0 15px rgba(var(--color-primary), 0.6),
      0 0 25px rgba(var(--color-primary), 0.3);
    transition: box-shadow 0.4s ease;
    
    &:hover {
      box-shadow: 
        0 0 10px rgba(var(--color-primary), 0.9),
        0 0 30px rgba(var(--color-primary), 0.7),
        0 0 50px rgba(var(--color-primary), 0.4);
    }
  }

  /* Анимации с кастомными параметрами */
  .animate-pulse-slow {
    animation: pulse 4s cubic-bezier(0.33, 1, 0.68, 1) infinite;
  }

  .animate-float {
    animation: float 8s ease-in-out infinite;
    will-change: transform;
  }

  /* Параллакс-эффект */
  .parallax-layer {
    transform-style: preserve-3d;
    
    & > * {
      transform: translateZ(var(--parallax-depth, 0px));
    }
  }
}

/* Keyframes с плавными переходами */
@keyframes pulse {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.85; transform: scale(1.02); }
}

@keyframes float {
  0%, 100% { transform: translateY(0) rotate(0.5deg); }
  50% { transform: translateY(-12px) rotate(-0.5deg); }
}

@keyframes gradient-shift {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* Специфичные компоненты */
/* Навбар с эффектом стекла */
.navbar {
  @apply sticky top-0 z-50 backdrop-blur-xl bg-gray-900/70 border-b border-gray-800/50;
  box-shadow: 0 2px 30px -10px rgba(0, 0, 0, 0.5);
  
  &::after {
    @apply content-[''] absolute inset-0 -z-10 opacity-30;
    background: linear-gradient(
      to right,
      rgba(var(--color-primary), 0.1),
      rgba(var(--color-secondary), 0.1)
    );
  }
}

/* Турнирная сетка с 3D-эффектом */
.match-card {
  @apply relative p-5 bg-gradient-to-b from-gray-800/50 to-gray-900/70 rounded-xl 
         border border-gray-700/50 transition-all duration-300 hover:border-primary/70;
  transform-style: preserve-3d;
  transform: perspective(500px);
  
  &::before {
    @apply content-[''] absolute inset-0 rounded-xl -z-10 opacity-0 transition-opacity;
    background: radial-gradient(
      300px circle at var(--mouse-x) var(--mouse-y),
      rgba(var(--color-primary), 0.15),
      transparent 60%
    );
  }
  
  &:hover {
    @apply shadow-[0_10px_30px_-10px_rgba(0,240,255,0.3)];
    
    &::before {
      @apply opacity-100;
    }
  }
}

.match-score {
  @apply text-xl font-mono font-bold;
  text-shadow: 0 0 8px rgba(var(--color-primary), 0.7);
}

/* Кастомный скроллбар */
::-webkit-scrollbar {
  @apply w-2 h-2;
}

::-webkit-scrollbar-track {
  @apply bg-gray-900/50;
}

::-webkit-scrollbar-thumb {
  @apply bg-gradient-to-b from-primary to-secondary rounded-full;
}

/* Адаптивные медиа-запросы */
@media (max-width: 768px) {
  .navbar {
    @apply backdrop-blur-lg;
  }
  
  .card {
    @apply hover:shadow-none;
    
    &::before {
      @apply hidden;
    }
  }
}